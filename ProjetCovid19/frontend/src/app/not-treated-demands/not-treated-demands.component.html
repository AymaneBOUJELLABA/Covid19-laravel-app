<div class="card">
    <h4 class="card-header">Liste des demandes non traités</h4>
    <div class="card-body">
        <div *ngIf="demands.length == 0  " class="text-left">
            <h3>Aucune demande non traités</h3>
        </div>
        <table *ngIf="demands.length > 0" class="table table-striped">
            <thead class="text-center">
                <tr>
                    <th scope="col">Nom</th>
                    <th scope="col">Prenom</th>
                    <th scope="col">testé pour Covid19</th>
                    <th scope="col">Isolement médical</th>
                    <th scope="col">Situations vécu</th>
                    <th scope="col">Symptômes</th>
                    <th scope="col">Temps de toussement</th>
                    <th scope="col">Résultat du Docteur</th>
                </tr>
            </thead>
            <tbody class="text-center">
                <tr *ngFor='let demand of demands'>
                    <td class="text-left">
                        {{ demand.nom }}
                    </td>
                    <td class="text-left">
                        {{ demand.prenom }}
                    </td>
                    <td class="text-left">
                        {{ demand.Q1 }}
                    </td>
                    <td class="text-left">
                        {{ demand.Q2 }}
                    </td>
                    <td class="text-left">
                        {{ demand.Q3 }}
                    </td>
                    <td class="text-left">
                        {{ demand.Q4 }}
                    </td>
                    <td class="text-left">
                        {{ demand.Q5 }}
                    </td>
 
                    <td class="text-left">
                        <a (click)= "edit(demand)">
                            <span *ngIf="demand!== treatedDemand"> {{ demand.resultat }}</span>
                            <input *ngIf="demand== treatedDemand" [(ngModel)] = "demand.resultat">
                        </a>
                    </td>
                    <td class="text-right">
                        <button class="btn btn-info" (click)="update(demand)">
                            Traiter
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>

        <div *ngIf="demands.length > 0 " class="card-footer">
            <span *ngIf="isTreated">  saisir le résultat du passion ( positif ou negatif ) </span>
            <span *ngIf="!isTreated">  clicker sur une demande pour la traité </span>
        </div>
    </div>
</div>